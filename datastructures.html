
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Persistent Data Structures &#8212; Calipto  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="persistent-data-structures">
<h1>Persistent Data Structures<a class="headerlink" href="#persistent-data-structures" title="Permalink to this headline">¶</a></h1>
<div class="section" id="linear-modification">
<h2>Linear modification<a class="headerlink" href="#linear-modification" title="Permalink to this headline">¶</a></h2>
<p>When we modify collections linearly (i.e. can statically prove that the previous version of the collection is thrown away) we can use inline mutating versions of operations as an optimisation.</p>
<p>Theoretically we could even detect when mutliple linear operations happen in sequence and optimise them together, for instance to pre-allocate a list when we know how many elements will be added. This is far more complex though.</p>
</div>
<div class="section" id="maps-sets">
<h2>Maps &amp; Sets<a class="headerlink" href="#maps-sets" title="Permalink to this headline">¶</a></h2>
<p>Unordered: CHAMP, HHAMT</p>
<p>Ordered: Who knows!</p>
<p>If we have collections based on prefixes, i.e. Trie and descendents, we can generalise this to tree data structures not just strings or binary blobs. Probably fastest to do breadth-first and to have special markers for END and SUBLIST, so e.g. ((a b) c) would be <code class="docutils literal notranslate"><span class="pre">SUBLIST</span> <span class="pre">c</span> <span class="pre">END</span> <span class="pre">a</span> <span class="pre">b</span> <span class="pre">END</span></code>. This might mean we’re less likely to have to chase pointers when going through the prefix, but this is dependent on how things are laid out, and the ordering it produces will probably be unintuitive if that’s important.</p>
</div>
<div class="section" id="lists">
<h2>Lists<a class="headerlink" href="#lists" title="Permalink to this headline">¶</a></h2>
<p>RRB Vector <a class="reference external" href="https://dl.acm.org/doi/10.1145/2784731.2784739">https://dl.acm.org/doi/10.1145/2784731.2784739</a></p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Calipto</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="base.html">2. Base Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="text.html">3. Text</a></li>
<li class="toctree-l1"><a class="reference internal" href="text.html#representation">4. Representation</a></li>
<li class="toctree-l1"><a class="reference internal" href="text.html#layout">5. Layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="numerics.html">6. Numerics</a></li>
<li class="toctree-l1"><a class="reference internal" href="sexup.html">7. Markup</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Elias N Vasylenko.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/datastructures.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>